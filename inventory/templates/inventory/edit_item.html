{% extends "inventory/base.html" %}

{% block title %}Edytuj Produkt{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="page-title mb-4 text-center">Edytuj Produkt</h1>
    <form id="edit-product-form" method="post" class="bg-white shadow-sm p-4 rounded">
        {% csrf_token %}

        <!-- Nazwa produktu -->
        <div class="mb-3">
            <label for="itm_name" class="form-label">Nazwa produktu:</label>
            {{ form.itm_name }}
            {% for error in form.itm_name.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Kod EAN -->
        <div class="mb-3">
            <label for="itm_ean" class="form-label">Kod EAN:</label>
            {{ form.itm_ean }}
            {% for error in form.itm_ean.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Kategoria -->
        <div class="mb-3">
            <label for="itm_catid" class="form-label">Kategoria:</label>
            {{ form.itm_catid }}
            {% for error in form.itm_catid.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Dostawca -->
        <div class="mb-3">
            <label for="itm_supid" class="form-label">Dostawca:</label>
            {{ form.itm_supid }}
            {% for error in form.itm_supid.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Ilość minimalna -->
        <div class="mb-3">
            <label for="itm_minquantity" class="form-label">Ilość minimalna:</label>
            <input
                type="number"
                id="itm_minquantity"
                name="itm_minquantity"
                class="form-control"
                value="{{ form.itm_minquantity.value|default:0 }}"
                min="0"
                step="1"
            >
            {% for error in form.itm_minquantity.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>
        <!-- Jednostka miary -->
        <div class="mb-3">
            <label for="itm_uniid" class="form-label">Jednostka miary:</label>
            {{ form.itm_uniid }}
            {% for error in form.itm_uniid.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Cena -->
        <div class="mb-3">
            <label for="itm_price" class="form-label">Cena:</label>
            {{ form.itm_price }}
            {% for error in form.itm_price.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Checkbox Aktywny -->
        <div class="form-check mb-4">
            {{ form.itm_isactive }}
            <label class="form-check-label" for="itm_isactive">
                Aktywny
            </label>
        </div>

        <!-- Przyciski akcji -->
        <div class="d-flex flex-column flex-md-row justify-content-md-between gap-3">
            <a href="{% url 'item_list' %}" class="btn btn-outline-secondary w-100 w-md-auto">
                <i class="bi bi-arrow-left-circle"></i> Powrót do listy produktów
            </a>
            <button type="submit" class="btn btn-primary-custom w-100 w-md-auto">
                <i class="bi bi-save"></i> Zapisz zmiany
            </button>
        </div>
    </form>
</div>
{% endblock %}
